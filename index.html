<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Super Prompt Generator</title>

<style>
body{
  margin:0;
  font-family:system-ui,Segoe UI,Arial;
  background:#111;
  color:#eee;
}
.wrap{
  max-width:900px;
  margin:auto;
  padding:20px;
}
h1{font-size:22px;margin-bottom:5px}
.small{font-size:12px;color:#aaa;margin-bottom:15px}
.card{
  background:#1b1b1b;
  border-radius:12px;
  padding:15px;
  margin-bottom:15px;
}
label{
  font-size:13px;
  font-weight:700;
  display:block;
  margin-bottom:6px;
}
textarea{
  width:100%;
  min-height:140px;
  padding:12px;
  border-radius:10px;
  border:1px solid #444;
  background:#111;
  color:#eee;
}
button{
  padding:10px 16px;
  border-radius:10px;
  border:1px solid #555;
  background:#2b2b2b;
  color:#fff;
  font-weight:800;
  cursor:pointer;
  margin-right:6px;
}
button.primary{background:#3a3a3a}
button.danger{
  background:#1e1e1e;
  color:#ff5c5c;
}
button.danger:hover{
  background:#ff5c5c;
  color:#000;
}
.out{
  min-height:300px;
  font-family:monospace;
}
.history-item{
  border:1px solid #333;
  border-radius:8px;
  padding:8px;
  margin-bottom:6px;
  cursor:pointer;
  font-size:12px;
  color:#ccc;
}
.history-item:hover{
  background:#222;
}
</style>
</head>

<body>
<div class="wrap">

<h1>Super Prompt Generator</h1>
<p class="small">
Digite sua ideia livremente. O sistema salva tudo automaticamente.
</p>

<div class="card">
<label>IDEIA</label>
<textarea id="ideia" placeholder="Escreva aqui sua ideia completa..."></textarea>
<br><br>
<button class="primary" onclick="gerar()">GERAR SUPER PROMPT</button>
<button class="danger" onclick="limpar()">APAGAR TUDO</button>
</div>

<div class="card">
<label>SUPER PROMPT GERADO</label>
<textarea class="out" id="saida"></textarea>
</div>

<div class="card">
<label>HISTÓRICO (clique para restaurar)</label>
<div id="historico"></div>
</div>

</div>

<script>
const ideiaEl = document.getElementById("ideia");
const saidaEl = document.getElementById("saida");
const historicoEl = document.getElementById("historico");

// ---------- AUTO SAVE ----------
ideiaEl.addEventListener("input", salvarEstado);
saidaEl.addEventListener("input", salvarEstado);

function salvarEstado(){
  localStorage.setItem("ideia_atual", ideiaEl.value);
  localStorage.setItem("saida_atual", saidaEl.value);
}

// ---------- GERAR ----------
function gerar(){
  const ideia = ideiaEl.value.trim();
  if(!ideia){
    alert("Escreva uma ideia antes de gerar.");
    return;
  }

  const prompt =
`VOCÊ É UM ESPECIALISTA SÊNIOR COM MAIS DE 20 ANOS DE EXPERIÊNCIA.

IDEIA DO USUÁRIO:
${ideia}

=== SUA MISSÃO ===

1️⃣ IDENTIFIQUE:
– Nicho
– Produto ou serviço
– Público-alvo
– Objetivo final

2️⃣ ORGANIZE A IDEIA EM ALGO EXECUTÁVEL

3️⃣ CRIE:
– Proposta clara
– Estratégia lógica
– Plano prático inicial

4️⃣ DIGA SEM FILTRO:
– O que funciona
– O que NÃO funciona
– O maior erro
– O primeiro passo imediato

ESTILO:
Direto, honesto, sem jargão.
Se a ideia for ruim, descarte e proponha outra melhor.
`;

  saidaEl.value = prompt;
  salvarEstado();
  salvarHistorico(ideia);
}

// ---------- LIMPAR ----------
function limpar(){
  ideiaEl.value = "";
  saidaEl.value = "";
  localStorage.removeItem("ideia_atual");
  localStorage.removeItem("saida_atual");
}

// ---------- HISTÓRICO ----------
function salvarHistorico(ideia){
  let hist = JSON.parse(localStorage.getItem("historico")) || [];
  hist.unshift(ideia);
  hist = hist.slice(0, 10); // mantém só as 10 últimas
  localStorage.setItem("historico", JSON.stringify(hist));
  renderHistorico();
}

function renderHistorico(){
  const hist = JSON.parse(localStorage.getItem("historico")) || [];
  historicoEl.innerHTML = "";
  hist.forEach(item=>{
    const div = document.createElement("div");
    div.className = "history-item";
    div.innerText = item.substring(0,120) + (item.length > 120 ? "..." : "");
    div.onclick = ()=>{
      ideiaEl.value = item;
      salvarEstado();
    };
    historicoEl.appendChild(div);
  });
}

// ---------- RESTAURA AO ABRIR ----------
(function restaurar(){
  ideiaEl.value = localStorage.getItem("ideia_atual") || "";
  saidaEl.value = localStorage.getItem("saida_atual") || "";
  renderHistorico();
})();
</script>

</body>
</html>
